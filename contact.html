<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/style.css">

    <link rel="stylesheet" href="css/style-contact.css">
    <link rel="stylesheet" href="font-awesome-4.7.0/css/font-awesome.min.css">

    <link rel="icon" type="image/jpg" href="../assets/images/Favicon.png"/>
    <title>The Beatles</title>

</head>
<body>
    <div class="container">
        <header class="Header-Background">
            <div id="UserPanel">
                <a class="contact-btn" href="contact.html">Contacto</a>
                <a class="shop-btn" href="shop.html">Shop</a>
                <a class="media-btn" href="media.html">Media</a>
                <a class="home-btn" href="index.html">Home</a> 
            </div>
        </header>
        <div class="contenido">
            <div class="contenido-form">
                <div class="info-form">
                    <h2> Contactanos </h2>
                    <p>Lorem, ipsum dolor sit amet consectetur adipisicing elit. Voluptates, 
                        dolorum omnis ullam vel accusamus consequuntur non, rem laudantium 
                        quia soluta impedit fugit, explicabo et! Natus aut tempora accusamus 
                        error culpa.</p>
                    <a href="#"><i class="fa fa-phone"></i>123-456-789</a>
                    <a href="#"><i class="fa fa-envelope"></i>email@ejemplo.com</a>
                    <a href="#"><i class="fa fa-map"></i>Ciudad, Pais</a>
                </div>
                <form id="form" autocomplete="off">
                    <label style="color: red;" id="lblName" >Debe ingresas nombre</label>
                    <input type="text" name="from_name" id="from_name" placeholder="Ingresa tu nombre" class="campo" onkeyup="validarFormulario()">
                    <label style="color: red;" id="lblEmail">Debe ingresa email valido</label>
                    <input type="email" name="email_id" id="email_id" placeholder="Ingresa tu email" class="campo" onkeyup="validarFormulario()">
                    <label style="color: red;" id="lblMensaje">Debe ingresar mensaje</label>
                    <textarea type="text" name="message" id="message" placeholder="Ingresa tu mensaje" onkeyup="validarFormulario()"></textarea>
                    <input type="submit" name="enviar" id="button" value="enviar mensaje" class="btn-enviar" disabled>
                </form>
            </div>
        </div>
        <div class="footer">
            <div id="footer-img"> 
                <img src="../assets/images/Footer.png">
            </div> 
        </div>
    </div>
    <script src="./js/contact.js"></script>
    <script type="text/javascript"
        src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js">
    </script>

    <script type="text/javascript">
        emailjs.init('yMnE3j3p9NOha-bdM');
        var submitButton = document.getElementById("button");
        submitButton.disabled = true;

        function validarFormulario() {
            var nameInput = document.getElementById("from_name");
            var emailInput = document.getElementById("email_id");
            var messageInput = document.getElementById("message");
            var submitButton = document.getElementById("button");
            var lblName = document.getElementById("lblName");
            var lblEmail = document.getElementById("lblEmail");
            var lblMensaje = document.getElementById("lblMensaje");
            
            var emailValido=validarEmail(emailInput.value);

            if (nameInput.value && emailValido && messageInput.value) {

                submitButton.disabled = false;
                lblName.style.visibility="hidden";
                lblEmail.style.visibility="hidden";
                lblMensaje.style.visibility="hidden";
            } else {
                submitButton.disabled = true;
                if (!nameInput.value){
                    lblName.style.visibility="visible";
                }else{
                    lblName.style.visibility="hidden";
                }
                if (!emailValido){
                    lblEmail.style.visibility="visible";
                }else{
                    lblEmail.style.visibility="hidden";
                }
                if (!messageInput.value){
                    lblMensaje.style.visibility="visible";
                }else{
                    lblMensaje.style.visibility="hidden";
                }
            }
        }

        function validarEmail(email) {
            // Expresión regular para validar el formato del correo electrónico
            var regex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            
            // Comprobar si el correo electrónico coincide con la expresión regular
            if (regex.test(email)) {
                console.log("mail valido");
                return true; // El correo electrónico es válido
            } else {
                console.log("mail invalido");
                return false; // El correo electrónico no es válido
            }
        }

    </script>
</body>
</html>